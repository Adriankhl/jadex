<assembly>

	<id>rulesdist</id>
	
	<formats>
		<format>zip</format>
	</formats>

	<includeBaseDirectory>true</includeBaseDirectory>

	<moduleSets>
		<moduleSet>

			<includeSubModules>true</includeSubModules>

			<binaries>
				<outputFileNameMapping>${artifact.artifactId}-${artifact.version}${dashClassifier?}.${artifact.extension}
				</outputFileNameMapping>
				<outputDirectory>lib</outputDirectory>
				<unpack>false</unpack>
			</binaries>

			<sources>
				<includeModuleDirectory>false</includeModuleDirectory>
				<fileSets>
					<fileSet>
						<outputDirectory>sources/${module.artifactId}</outputDirectory>
						<includes>
							<include>src/**</include>
							<include>pom.xml</include>
						</includes>
					</fileSet>
					<fileSet>
						<outputDirectory>sources/${module.artifactId}</outputDirectory>
						<includes>
							<include>lib/**</include>
						</includes>
					</fileSet>
				</fileSets>
			</sources>


		</moduleSet>
	</moduleSets>

	<fileSets>
		<fileSet>
			<directory>/target/site/</directory>
			<outputDirectory>/</outputDirectory>
			<includes>
				<include>apidocs/**</include>
			</includes>
		</fileSet>
	</fileSets>

	<files>
		<file>
			<source>docs/readme.txt</source>
			<outputDirectory>/</outputDirectory>
			<filtered>true</filtered>
		</file>
		<file>
			<source>docs/rules-readme.txt</source>
			<outputDirectory>/</outputDirectory>
			<filtered>true</filtered>
		</file>
		<file>
			<source>docs/license.txt</source>
			<outputDirectory>/</outputDirectory>
		</file>
		
		<file>
			<source>pom-rules-dist.xml</source>
			<outputDirectory>sources</outputDirectory>
			<destName>pom.xml</destName>
		</file>
		<file>
			<source>docs/readme-building.txt</source>
			<outputDirectory>sources</outputDirectory>
		</file>
<!-- 
		<file>
			<source>target/rules_guide.pdf</source>
			<outputDirectory>/</outputDirectory>
		</file>
		 -->
			
		<!-- ======== files required for building the distribution ======== -->
		
		<file>
		    <source>src/main/assembly/dist-assembly-rules.xml</source>
		    <outputDirectory>sources/src/main/assembly</outputDirectory>
		</file>
		<file>
			<source>pom-rules-dist.xml</source>
			<outputDirectory>sources</outputDirectory>
		</file>
		<file>
			<source>docs/readme.txt</source>
			<outputDirectory>sources/docs</outputDirectory>
		</file>
		<file>
			<source>docs/rules-readme.txt</source>
			<outputDirectory>sources/docs</outputDirectory>
		</file>
		<file>
			<source>docs/license.txt</source>
			<outputDirectory>sources/docs</outputDirectory>
		</file>
		<file>
			<source>docs/readme-building.txt</source>
			<outputDirectory>sources/docs</outputDirectory>
		</file>
	</files>

</assembly>