<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<MASDynamic name="negotiation">
	<system_properties>
		<role_occupations>
			<role_occupation name="ServiceOfferer" multiple="true">
				<agent id="ServiceManagementAgent">
					<elements>
						<element id="requiredServices" type="BDI_BELIEFSET" />
						<element id="requiredServices" type="INTERNAL_EVENT" />
						<element id="searchSa" type="INTERNAL_EVENT" />
						<element id="foundSa" type="INTERNAL_EVENT" />
					</elements>
				</agent>
			</role_occupation>
			<role_occupation name="ServiceSupplier" multiple="true">
				<agent id="ServiceAgent">
					<elements>
						<element id="makeProposal" type="INTERNAL_EVENT" />
						<element id="offer" type="BDI_GOAL" />
						<element id="reward" type="BDI_GOAL" />
						<element id="rewardReply" type="INTERNAL_EVENT" />
					</elements>
				</agent>
			</role_occupation>
			<role_occupation name="TrustOwner" multiple="true">
				<agent id="ServiceManagementAgent">
					<elements>
						<element id="trustEvent" type="INTERNAL_EVENT" />
					</elements>
				</agent>
			</role_occupation>
			<role_occupation name="TrustSubject" multiple="true">
				<agent id="ServiceAgent">
					<elements>
<!--						<element id="contract" type="BDI_BELIEF" />-->
<!--						<element id="contract" type="INTERNAL_EVENT" />-->
						<element id="executionOccur" type="INTERNAL_EVENT" />
					</elements>
				</agent>
			</role_occupation>
		</role_occupations>
	</system_properties>

	<causalities>
		<deco_links>
			<deco_link realization="by_neg" type="POSITIVE" name="neg">
				<froms>
					<from>ServiceManagementAgent</from>
					<from>ServiceAgent</from>
				</froms>
				<tos>
					<to>ServiceManagementAgent</to>
					<to>ServiceAgent</to>
				</tos>
			</deco_link>
			<deco_link realization="by_trust" type="POSITIVE" name="trust">
				<froms>
					<from>ServiceAgent</from>
				</froms>
				<tos>
					<to>ServiceManagementAgent</to>
				</tos>
			</deco_link>
		</deco_links>
		<direct_links>
			<direct_link realization="by_directInternalEvent" type="POSITIVE" name="direct">
				<froms>
					<from>ServiceManagementAgent</from>
<!--					<from>ServiceAgent</from>-->
				</froms>
				<tos>
					<to>ServiceManagementAgent</to>
<!--					<to>ServiceAgent</to>-->
				</tos>
			</direct_link>
		</direct_links>
		<direct_link_configurations>
			<direct_link_configuration id="by_directInternalEvent">
				<from>
					<agent_element element="requiredServices" agent_id="ServiceManagementAgent"
						type="BDI_BELIEFSET">
<!--						<parameter_mappings>-->
<!--						<mapping class="RequiredService" ref="service" data="content"-->
<!--								name="requiredServices" type="BDI_BELIEF"/>-->
<!--						</parameter_mappings>-->
					</agent_element>
<!--					<agent_element element="contract" agent_id="ServiceAgent"-->
<!--						type="BDI_BELIEF">-->
<!--					</agent_element>-->
				</from>
				<configuration></configuration>
				<to>
					<agent_element element="requiredServices" agent_id="ServiceManagementAgent"
						type="INTERNAL_EVENT">
						<parameter_mappings>
							<mapping class="RequiredService" ref="value"
								name="service" />
						</parameter_mappings>
					</agent_element>
<!--					<agent_element element="contract" agent_id="ServiceAgent"-->
<!--						type="INTERNAL_EVENT">-->
<!--						<parameter_mappings>-->
<!--							<mapping class="Contract" ref="value"-->
<!--								name="contract" />-->
<!--						</parameter_mappings>-->
<!--					</agent_element>-->
				</to>
			</direct_link_configuration>
		</direct_link_configurations>

		<!-- The detailed configuration of interdependency enactment. -->
		<deco-link-realizations>
			<realization id="by_neg">
				<from>
					<agent_element element="searchSa" agent_id="ServiceManagementAgent"
						type="INTERNAL_EVENT">
						<parameter_mappings>
							<mapping class="String" ref="task" name="task" />
							<mapping class="AssignRequest" ref="request" name="request" />
						</parameter_mappings>
					</agent_element>
					<agent_element element="announceProposal" agent_id="ServiceAgent"
						type="INTERNAL_EVENT">
						<parameter_mappings>
							<mapping class="String" ref="task" name="task" />
							<mapping class="ServiceProposal" ref="proposal" name="proposal" />
						</parameter_mappings>
					</agent_element>
					<agent_element element="rewardReply" agent_id="ServiceAgent"
						type="INTERNAL_EVENT">
						<parameter_mappings>
							<mapping class="String" ref="task" name="task" />
							<mapping class="Reward" ref="reward" name="reward" />
						</parameter_mappings>
					</agent_element>
				</from>
				<mechanism_configuration mechanism_id="neg"
					agent_type="JADEX">
				</mechanism_configuration>
				<to>
					<agent_element element="foundSa" agent_id="ServiceManagementAgent"
						type="INTERNAL_EVENT">
						<parameter_mappings>
							<mapping class="AssignReply" ref="reply" name="reply" />
						</parameter_mappings>
					</agent_element>
					<agent_element element="publishedOffer" agent_id="ServiceAgent"
						type="INTERNAL_EVENT">
						<parameter_mappings>
							<mapping class="ServiceOffer" ref="offer" name="offer">
							</mapping>
						</parameter_mappings>
					</agent_element>
					<agent_element element="assignedReward" agent_id="ServiceAgent"
						type="INTERNAL_EVENT">
						<parameter_mappings>
							<mapping class="Reward" ref="reward" name="reward">
							</mapping>
						</parameter_mappings>
					</agent_element>
				</to>
			</realization>
			<realization id="by_trust">
				<from>
					<agent_element element="executionOccur" agent_id="ServiceAgent"
						type="INTERNAL_EVENT">
						<parameter_mappings>
							<mapping class="String" ref="task" name="task" />
							<mapping class="Execution" ref="execution" name="execution" />
						</parameter_mappings>
					</agent_element>
				</from>
				<mechanism_configuration mechanism_id="trust"
					agent_type="JADEX">
				</mechanism_configuration>
				<to>
					<agent_element element="trustEvent" agent_id="ServiceManagementAgent"
						type="INTERNAL_EVENT">
						<parameter_mappings>
							<mapping class="Execution" ref="execution" name="execution" />
						</parameter_mappings>
					</agent_element>
				</to>
			</realization>
		</deco-link-realizations>
	</causalities>
</MASDynamic>