<?xml version="1.0" encoding="UTF-8"?>
<bpmn:BpmnDiagram xmi:version="2.0" xmlns:xmi="http://www.omg.org/XMI" xmlns:bpmn="http://stp.eclipse.org/bpmn" xmlns:ecore="http://www.eclipse.org/emf/2002/Ecore" xmi:id="_D9mhodQbEd6ZgonVFJzeWg" iD="_D9mhoNQbEd6ZgonVFJzeWg">
  <eAnnotations xmi:type="ecore:EAnnotation" xmi:id="_T2v9kDwDEd-x4KCeUwSB8g" source="jadex">
    <details xmi:type="ecore:EStringToStringMapEntry" xmi:id="_T2v9kTwDEd-x4KCeUwSB8g" key="imports" value=""/>
    <details xmi:type="ecore:EStringToStringMapEntry" xmi:id="_T2v9kjwDEd-x4KCeUwSB8g" key="Description" value=""/>
    <details xmi:type="ecore:EStringToStringMapEntry" xmi:id="_T3C4gDwDEd-x4KCeUwSB8g" key="Package" value=""/>
  </eAnnotations>
  <artifacts xmi:type="bpmn:TextAnnotation" xmi:id="_ohj-EdQsEd6ZgonVFJzeWg" iD="_ohj-ENQsEd6ZgonVFJzeWg" name="package jadex.bpmn.benchmarks;&#xD;&#xA;&#xD;&#xA;import jadex.commons.*&#xD;&#xA;import jadex.bridge.*&#xD;&#xA;import jadex.bpmn.runtime.task.*&#xD;&#xA;import jadex.bpmn.model.*&#xD;&#xA;&#xD;&#xA;argument new Argument(&quot;max&quot;, &quot;The maximum numbers of processes to create.&quot;, &quot;int&quot;, new Integer(1000)) ">
    <associations xmi:type="bpmn:Association" xmi:id="_r-Bd4NQsEd6ZgonVFJzeWg"/>
  </artifacts>
  <pools xmi:type="bpmn:Pool" xmi:id="_EA9-sdQbEd6ZgonVFJzeWg" iD="_EA9-sNQbEd6ZgonVFJzeWg" associations="_r-Bd4NQsEd6ZgonVFJzeWg" name="Pool">
    <vertices xmi:type="bpmn:Activity" xmi:id="_nFusgdQcEd6ZgonVFJzeWg" iD="_nFusgNQcEd6ZgonVFJzeWg" outgoingEdges="_WJi0AdQjEd6ZgonVFJzeWg" incomingEdges="_2jKY8dQeEd6ZgonVFJzeWg" name="Fetch and prepare arguments&#xD;&#xA;&#xD;&#xA;class = PrintTask&#xD;&#xA;&#xD;&#xA;in String text = &quot;Created peer: &quot;+($args.get(&quot;num&quot;)!=null? (Integer)$args.get(&quot;num&quot;): new Integer(1))&#xD;&#xA;&#xD;&#xA;out Integer num =  $args.get(&quot;num&quot;)!=null? (Integer)$args.get(&quot;num&quot;): new Integer(1)&#xD;&#xA;out Long startmem = $args.get(&quot;startmem&quot;)!=null? (Long)$args.get(&quot;startmem&quot;): new Long(Runtime.getRuntime().totalMemory()-Runtime.getRuntime().freeMemory())&#xD;&#xA;out Long starttime = $args.get(&quot;starttime&quot;)!=null? (Long)$args.get(&quot;starttime&quot;): new Long($clock.getTime())&#xD;&#xA;out int max = ((Integer)$args.get(&quot;max&quot;)).intValue()" activityType="Task"/>
    <vertices xmi:type="bpmn:Activity" xmi:id="_185DIdQeEd6ZgonVFJzeWg" iD="_185DINQeEd6ZgonVFJzeWg" outgoingEdges="_2jKY8dQeEd6ZgonVFJzeWg" activityType="EventStartEmpty"/>
    <vertices xmi:type="bpmn:Activity" xmi:id="_WJZDAdQjEd6ZgonVFJzeWg" iD="_WJZDANQjEd6ZgonVFJzeWg" outgoingEdges="_ZB1PwdQjEd6ZgonVFJzeWg _PYI8MdQkEd6ZgonVFJzeWg" incomingEdges="_WJi0AdQjEd6ZgonVFJzeWg" activityType="GatewayDataBasedExclusive"/>
    <vertices xmi:type="bpmn:Activity" xmi:id="_ZBsF0dQjEd6ZgonVFJzeWg" iD="_ZBsF0NQjEd6ZgonVFJzeWg" outgoingEdges="_jdMVStXtEd6ZgonVFJzeWg" incomingEdges="_ZB1PwdQjEd6ZgonVFJzeWg" name="Dispatch Subprocess and Wait For Result&#xD;&#xA;&#xD;&#xA;class=CreateComponentTask&#xD;&#xA;&#xD;&#xA;in String model = &quot;/jadex/bpmn/benchmarks/AgentCreation.bpmn&quot;&#xD;&#xA;in String name = &quot;AgentCreation_#&quot;+(num+1)&#xD;&#xA;&#xD;&#xA;in Integer num = new Integer(num +1)&#xD;&#xA;in Long startmem = startmem&#xD;&#xA;in Long starttime = starttime&#xD;&#xA;in Long max = max" activityType="Task"/>
    <vertices xmi:type="bpmn:Activity" xmi:id="_PX_yQdQkEd6ZgonVFJzeWg" iD="_PX_yQNQkEd6ZgonVFJzeWg" outgoingEdges="_D9m9IdQlEd6ZgonVFJzeWg" incomingEdges="_PYI8MdQkEd6ZgonVFJzeWg" name="Print Creation Results Task&#xD;&#xA;&#xD;&#xA;class = PrintTask&#xD;&#xA;&#xD;&#xA;inout int max = max&#xD;&#xA;in Long startmem = (Long)$args.get(&quot;startmem&quot;)&#xD;&#xA;in Long starttime = (Long)$args.get(&quot;starttime&quot;)&#xD;&#xA;in long used = Runtime.getRuntime().totalMemory()-Runtime.getRuntime().freeMemory()&#xD;&#xA;inout long omem = (used-startmem.longValue())/1024&#xD;&#xA;inout double upera = ((long)(1000*(used-startmem.longValue())/max/1024))/1000.0&#xD;&#xA;&#xD;&#xA;in long end = $clock.getTime()&#xD;&#xA;inout double dur = ((double)end-starttime.longValue())/1000.0&#xD;&#xA;inout double pera = dur/max&#xD;&#xA;&#xD;&#xA;in String text = &quot;Overall memory usage: &quot;+omem+&quot;kB. Per process: &quot;+upera+&quot; kB. Last peer created. &quot;+max+&quot; processes started. Needed: &quot;+dur+&quot; secs. Per process: &quot;+pera+&quot; sec. Corresponds to &quot;+(1/pera)+&quot; processes per sec.&quot;&#xD;&#xA;&#xD;&#xA;inout long killstarttime = $clock.getTime()&#xD;&#xA;" activityType="Task">
      <eAnnotations xmi:type="ecore:EAnnotation" xmi:id="_V0Nv0DwDEd-x4KCeUwSB8g" source="jadex">
        <details xmi:type="ecore:EStringToStringMapEntry" xmi:id="_V0Nv0TwDEd-x4KCeUwSB8g" key="class" value=""/>
      </eAnnotations>
    </vertices>
    <vertices xmi:type="bpmn:Activity" xmi:id="_D9dzMdQlEd6ZgonVFJzeWg" iD="_D9dzMNQlEd6ZgonVFJzeWg" outgoingEdges="_oJRdgdYnEd6H3v0lpmo8zA" incomingEdges="_D9m9IdQlEd6ZgonVFJzeWg _reiwMdYnEd6H3v0lpmo8zA" name="Delete Peers&#xD;&#xA;&#xD;&#xA;class = DestroyComponentTask&#xD;&#xA;&#xD;&#xA;inout double dur = dur&#xD;&#xA;inout double pera = pera&#xD;&#xA;inout long omem = omem&#xD;&#xA;inout double upera = upera&#xD;&#xA;inout int i = max-1&#xD;&#xA;in String name = i==1? &quot;AgentCreation&quot;: &quot;AgentCreation_#&quot;+i&#xD;&#xA;inout long killstarttime = killstarttime" activityType="Task"/>
    <vertices xmi:type="bpmn:Activity" xmi:id="_i5aRgdQmEd6ZgonVFJzeWg" iD="_i5aRgNQmEd6ZgonVFJzeWg" incomingEdges="_qyK0Adg4Ed6ZgonVFJzeWg" activityType="EventEndEmpty"/>
    <vertices xmi:type="bpmn:Activity" xmi:id="_jdMVQdXtEd6ZgonVFJzeWg" iD="_jdMVQNXtEd6ZgonVFJzeWg" incomingEdges="_jdMVStXtEd6ZgonVFJzeWg" name="Wait For Ever" activityType="EventIntermediateSignal"/>
    <vertices xmi:type="bpmn:Activity" xmi:id="_oIxuQdYnEd6H3v0lpmo8zA" iD="_oIxuQNYnEd6H3v0lpmo8zA" outgoingEdges="_reiwMdYnEd6H3v0lpmo8zA _jQa50dg4Ed6ZgonVFJzeWg" incomingEdges="_oJRdgdYnEd6H3v0lpmo8zA" activityType="GatewayDataBasedExclusive"/>
    <vertices xmi:type="bpmn:Activity" xmi:id="_jQRI0dg4Ed6ZgonVFJzeWg" iD="_jQRI0Ng4Ed6ZgonVFJzeWg" outgoingEdges="_qyK0Adg4Ed6ZgonVFJzeWg" incomingEdges="_jQa50dg4Ed6ZgonVFJzeWg" name="Print Kill Results Task&#xD;&#xA;&#xD;&#xA;class = PrintTask&#xD;&#xA;&#xD;&#xA;in int max =  ((Integer)$args.get(&quot;max&quot;)).intValue()&#xD;&#xA;in double dur = dur&#xD;&#xA;in double pera = pera&#xD;&#xA;in long omem = omem&#xD;&#xA;in double upera = upera&#xD;&#xA;in double killdur = ((double)$clock.getTime()-killstarttime)/1000.0&#xD;&#xA;in double killpera = killdur/(max-1)&#xD;&#xA;in long stillused = (Runtime.getRuntime().totalMemory()-Runtime.getRuntime().freeMemory())/1024&#xD;&#xA;&#xD;&#xA;in String text = &quot;Last peer destroyed. &quot;+(max-1)+&quot; agents killed. \nCumulated results: Creation needed: &quot;+dur+&quot; secs. Per agent: &quot;+pera+&quot; sec. Corresponds to &quot;+(1/pera)+&quot; agents per sec. Killing needed:  &quot;+killdur+&quot; secs. Per process: &quot;+killpera+&quot; sec. Corresponds to &quot;+(1/killpera)+&quot; agents per sec. Overall memory usage: &quot;+omem+&quot;kB. Per process: &quot;+upera+&quot; kB. Still used memory: &quot;+stillused+&quot;kB.&quot;&#xD;&#xA;&#xD;&#xA;" activityType="Task"/>
    <sequenceEdges xmi:type="bpmn:SequenceEdge" xmi:id="_2jKY8dQeEd6ZgonVFJzeWg" iD="_2jKY8NQeEd6ZgonVFJzeWg"/>
    <sequenceEdges xmi:type="bpmn:SequenceEdge" xmi:id="_WJi0AdQjEd6ZgonVFJzeWg" iD="_WJi0ANQjEd6ZgonVFJzeWg"/>
    <sequenceEdges xmi:type="bpmn:SequenceEdge" xmi:id="_ZB1PwdQjEd6ZgonVFJzeWg" iD="_ZB1PwNQjEd6ZgonVFJzeWg" name="num.intValue()&lt;max"/>
    <sequenceEdges xmi:type="bpmn:SequenceEdge" xmi:id="_PYI8MdQkEd6ZgonVFJzeWg" iD="_PYI8MNQkEd6ZgonVFJzeWg" conditionType="Default" isDefault="true"/>
    <sequenceEdges xmi:type="bpmn:SequenceEdge" xmi:id="_D9m9IdQlEd6ZgonVFJzeWg" iD="_D9m9INQlEd6ZgonVFJzeWg" name=""/>
    <sequenceEdges xmi:type="bpmn:SequenceEdge" xmi:id="_jdMVStXtEd6ZgonVFJzeWg" iD="_jdMVSdXtEd6ZgonVFJzeWg"/>
    <sequenceEdges xmi:type="bpmn:SequenceEdge" xmi:id="_oJRdgdYnEd6H3v0lpmo8zA" iD="_oJRdgNYnEd6H3v0lpmo8zA"/>
    <sequenceEdges xmi:type="bpmn:SequenceEdge" xmi:id="_reiwMdYnEd6H3v0lpmo8zA" iD="_reiwMNYnEd6H3v0lpmo8zA" name="i > 1&#xD;&#xA;i = i-1"/>
    <sequenceEdges xmi:type="bpmn:SequenceEdge" xmi:id="_jQa50dg4Ed6ZgonVFJzeWg" iD="_jQa50Ng4Ed6ZgonVFJzeWg" conditionType="Default" isDefault="true"/>
    <sequenceEdges xmi:type="bpmn:SequenceEdge" xmi:id="_qyK0Adg4Ed6ZgonVFJzeWg" iD="_qyK0ANg4Ed6ZgonVFJzeWg"/>
  </pools>
</bpmn:BpmnDiagram>
