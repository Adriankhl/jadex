To access main Wiki (e.g. Wiki Manager), user IP directly:
http://134.100.9.116/xwiki/bin/view/WikiManager/

Server Names
------------

jadex           IN A     134.100.9.116
go4flex         IN CNAME jadex.informatik.uni-hamburg.de.
jadex-ac        IN CNAME jadex.informatik.uni-hamburg.de.
jadex-activecomponents  IN CNAME jadex.informatik.uni-hamburg.de.
jadex-agents    IN CNAME jadex.informatik.uni-hamburg.de.
jadex-bdi       IN CNAME jadex.informatik.uni-hamburg.de.
jadex-bpm       IN CNAME jadex.informatik.uni-hamburg.de.
jadex-processes IN CNAME jadex.informatik.uni-hamburg.de.
jadex-project   IN CNAME jadex.informatik.uni-hamburg.de.
jadex-rules     IN CNAME jadex.informatik.uni-hamburg.de.
jadex-software  IN CNAME jadex.informatik.uni-hamburg.de.
jadex-xml       IN CNAME jadex.informatik.uni-hamburg.de.



Installation
------------

templates/htmlheader.vm
	- Add "#if($isGuest) guestuser#end" to 'class' attribute of last body tag (required for onlineusers plugin)

WEB-INF/xwiki.cfg
	- Set xwiki.store.attachment.versioning=0 to save memory when uploading attachments
	- Set storage.attachment.recyclebin=0 to save memory when deleting attachments
	- Add edu.uci.ics.mondego.wiki.plugin.map.MapPlugin to xwiki.plugins
	  (also add googlemapplugin-1.0.jar to WEB-INF/lib)
	- Enable/disable super admin by setting/unsetting xwiki.superadminpassword as required.
	- Set xwiki.servletpath=bin/ to fix bug in watchlist posting (see http://n2.nabble.com/WatchList-Email-Error-td2151183.html) 
	  
Configure Tomcat (Windows App)
	- Java / Maximum memory pool -> 512 (MB)
	
MySQL
	- Set 'Max. packet size' to 64M (MySQL Administrator -> Start Variables -> Network)
	
XWiki
	- Import lightbox plugin (.xar)
	- Do not remove 'Admin' user as this causes watchlist problems: http://lists.xwiki.org/pipermail/users/2008-October/014116.html
	- New user registration / email confirmation: By default (xwiki 2.1.1) activation key is stored as a hash in the database,
	  although it is expected to be plain text in the code. This means that the XWikiUsers class must be changed
	  (xwiki/bin/edit/XWiki/XWikiUsers?editor=class) so that the Validation Key property has PlainText storage type.
	  http://lists.xwiki.org/pipermail/users/2009-December/018742.html
	 
	
change upload limit (http://madplanet.com/xwiki/bin/view/Madplanet/Increasing+Maximum+Upload)
- edit the XWiki.XWikiPreferences object!!! and specify the desired maximum attachment size (in bytes) 
http://localhost/xwiki/bin/edit/XWiki/XWikiPreferences?editor=object
	

Appearance
----------
- jadex skin
	- customize / edit skin as desired. (preferences/presentation)
		- images: shadebar.png, bar.png, nav-inner.png, bg-blue-right-30.png, bg-blue-left-230.png
		- for colors search for 'jadex-color' in jadex-processes toucan.css 
	- attach logo to xwiki/bin/view/XWiki/DefaultSkin and edit to refer to logo (make sure to remove leading/trailing spaces around file name)
	- attach go.png image to xwiki/bin/view/XWiki/DefaultSkin to alter search button (if desired)
- Adapt layout (preferences/panels)
- change class="globalsearch" to id="globalsearch" in search panel for css backwards compatibility
- change copyright notice (preferences/presentation) to: Copyright (C) 2002-2010 Lars Braubach, Alexander Pokahr - University of Hamburg
- edit /xwiki/bin/edit/Main/WebHome?&editor=wiki and replace text with redirect as needed
    e.g. $response.sendRedirect($xwiki.getURL('About.Overview')), requires XWiki 1.0 syntax!
    Old: Adjust WebHome start page of wiki
	- WEB-INF/web.xml
		- Set homePage parameter of redirectHome servlet to "bin/view/About/Overview"
	- templates/global.vm
		- Change "Main.WebHome" to "About.Overview" in companylogo link
- Add hidden spaces in navigation panel
	#set ($hiddenSpaces = ["XWiki", "Admin", "Panels", "Main", "Blog", "Stats", "Scheduler", "Sandbox", "Photos", "Add Ons", "WikiCode", "XApp", "XAppCode", "XAppResources", "XAppSheets", "WikiResources", "XAppManager", "XAppClasses", "XAppTemplates", "WikiManager"])
- Quick Links:     * Download Jadex Rules    * Read Latest News    * Get Involved    * SourceForge.net Page



	
Upgrade
-------

xwiki XWiki Enterprise (Manager) war  
	- unzip and place in webservers webapps dir
	
database 	
	- add mysql-connector-java-5.1.7-bin.jar to WEB-INF/lib
	- modify the hibernate.cfg.xml, important the last line is not on the xwiki site but prevents specific errors
	<property name="connection.url">jdbc:mysql://localhost/xwiki?useServerPrepStmts=false&amp;sessionVariables=sql_mode=''</property> 
	<property name="connection.username">xwiki</property> 
	<property name="connection.password">xwiki</property> 
	<property name="connection.driver_class">com.mysql.jdbc.Driver</property> 
	<property name="dialect">org.hibernate.dialect.MySQLDialect</property> 
	<property name="connection.provider_class">com.xpn.xwiki.store.DBCPConnectionProvider</property> 
	<property name="connection.pool_size">2</property> 
	<property name="statement_cache.size">2</property> 
	<mapping resource="xwiki.hbm.xml"/> 
	<mapping resource="feeds.hbm.xml"/> 
	<mapping resource="activitystream.hbm.xml"/>

plugins
	- entries in xwiki.cfg
	com.xpn.xwiki.plugin.wikimanager.WikiManagerPlugin,\ 
	com.xpn.xwiki.plugin.applicationmanager.ApplicationManagerPlugin,\
	jadex.xwiki.OnlineUsersPlugin
	- jars to WEB-INF/lib
	xwiki-plugin-wiki-manager-1.16.jar 
	xwiki-plugin-application-manager-1.11.jar
	jadex-xwiki-2.0-beta2.jar
	
	(+ lightbox installation/import)
	
skins 
	- copy new skin directories to skins dir
	
make server virtual
	- in xwiki.cfg 
	xwiki.virtual=1
	- the server cannot be reached from the outside, so locally serve to
	the following address and modify the server and home page entry
	http://localhost/bin/edit/XWiki/XWikiServerXwiki?editor=object

for importing existing wiki in fresh db
	- create fresh database (grant rights)
	- edit xwiki.db=<dbname>
	- edit hibernate file
	- turn on virtual=0 !
	- import standard empty xar
	- change upload size
	- import wiki

 
Import from old XAR
-------------------

- create new wiki
- login to new wiki as Admin/admin
- import xxx-backup.xar
	- to alter max upload size edit some page
	- choose edit class XWikiPreferences
	- change max upload size from 5 to 10 (is only number of digits allowed for value)
	- save then switch to objects editor (if not possible directly, just edit url: xwiki/bin/edit/XWiki/XWikiPreferences?editor=object)
	- alter Maximum Upload Size to 500000000
- import xwiki-enterprise-wiki-xxx.xar
- add required imported users to admin group (Alex, Lars, etc.)
- set rights for all users (view, register), disable rights for (comment, edit, delete, admin)
- set rights for approved users (view, comment, edit), disable rights for (delete, admin)
- edit and save (unchanged) currently online users panel, to make it visible in panel wizard
- change class="globalsearch" to id="globalsearch" in search panel for css backwards compatibility
	
	