
	<!--
		<H3>Test applikation for V2 and Deco4MAS</H3> Work in progress...
		can be removed!
	- ->

<applicationtype xmlns="http://jadex.sourceforge.net/jadex-bdi"
	xmlns:env="http://jadex.sourceforge.net/jadex-envspace" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xsi:schemaLocation="http://jadex.sourceforge.net/jadex-application 
	                    http://jadex.sourceforge.net/jadex-application-2.0.xsd"
	name="EasyMechanism" package="jadex.bdi.examples.antworld.depricated">-->
<applicationtype>
	<imports>
		<import>jadex.adapter.base.envsupport.environment.space2d.*</import>
		<import>jadex.adapter.base.envsupport.environment.RoundBasedExecutor</import>
		<import>jadex.adapter.base.envsupport.environment.*</import>
		<import>jadex.adapter.base.envsupport.math.*</import>
		<import>jadex.service.clock.IClockService</import>
		<import>jadex.adapter.base.envsupport.dataview.GeneralDataView2D</import>
		<import>jadex.adapter.base.envsupport.observer.perspective.*</import>
		<import>jadex.bdi.planlib.*</import>
		<import>jadex.adapter.base.envsupport.dataview.*</import>
		<import>deco4mas.coordinate.interpreter.coordination_information.*</import>
		<import>deco4mas.examples.V2.*</import>
	</imports>

	<spacetypes>
		<env:envspacetype name="gc2dspace" width="11" height="11"
			class="Grid2D">
			<env:objecttypes>
				<env:objecttype name="receiver">
					<env:property name="id" dynamic="true">$object.getId()
					</env:property>
					<env:property name="vision_range">100</env:property>
				</env:objecttype>

				<env:objecttype name="ball" />

			</env:objecttypes>

			<env:avatarmappings>
				<env:avatarmapping agenttype="Receiver"
					objecttype="receiver" />
			</env:avatarmappings>

			<env:processtypes>
				<env:processtype name="createEvents" class="CreateEventsProcess">
					<env:property name="rate">2</env:property>
				</env:processtype>
			</env:processtypes>

			<!-- The percepttypes, generators and processors. -->
			<env:percepttypes>


				<!--
					Percepttypes that the environment produces and agents can consume.
				-->
				<!-- TODO: disappear, etc..-->
				<env:percepttype name="ball_appeared" objecttype="ball"
					agenttype="Receiver" />


				<!-- Percept generators define which percepts should be created -->
				<env:perceptgenerator name="visiongen"
					class="DefaultVisionGenerator">
					<!--  <env:property name="maxrange">10</env:property>-->
					<env:property name="range">100</env:property>
					<env:property name="range_property">
						"vision_range"</env:property>

					<!--
						percept types are declared with associated action types:
						percepttype, actiontype1, actiontype2, ...
					-->
					<env:property name="percepttypes"> new Object[] { new
						String[]{"ball_appeared", "appeared", "created"} }
					</env:property>
				</env:perceptgenerator>

				<!--
					Percept processors consume percepts and push them into the agents.
				-->
				<env:perceptprocessor agenttype="Receiver"
					class="BDICoordinationInterpreter">
					<env:property name="percepttypes"> new Object[] { new
						String[]{"ball_appeared", "add", "balls"}}
					</env:property>
				</env:perceptprocessor>

			</env:percepttypes>


			<!-- Data views for defining cut outs of the world objects. -->
			<env:views>
				<env:view name="view_all" class="GeneralDataView2D" />
			</env:views>

			<env:perspectives>
				<env:perspective name="icons" class="Perspective2D"
					opengl="false" objectshiftx="0.5" objectshifty="0.5">
					<env:drawable objecttype="ball" width="0.6" height="0.6">
						<env:texturedrectangle layer="1"
							imagepath="jadex/bdi/examples/antworld/images/food.jpg" />
					</env:drawable>
					<env:prelayers>
						<env:tiledlayer width="0.3" height="0.3"
							imagepath="jadex/bdi/examples/antworld/images/bg.png" />
						<env:gridlayer width="1.0" height="1.0" color="WHITE" />
					</env:prelayers>
				</env:perspective>
				
			</env:perspectives>

			<!-- executor -->
			<env:spaceexecutor class="RoundBasedExecutor">
				<property name="space">$space</property>
			</env:spaceexecutor>
		</env:envspacetype>
	</spacetypes>

	<agenttypes>
<!-- <agenttype name="Receiver" filename="deco4mas/examples/V2/Receiver.agent.xml" />-->
	<agenttype name="Receiver" filename="jadex/bdi/examples/antworld/depricated/Receiver.agent.xml" />
		<agenttype name="Environment"
			filename="jadex/bdi/examples/antworld/environment/Environment.agent.xml" />
	</agenttypes>

	<applications>
		<application name="Test">
			<agents>
				<agent type="Receiver" number="1" />
				<agent type="Environment" />
			</agents>

			<env:envspace name="mygc2dspace" type="gc2dspace">
				<env:objects>
					<!-- <env:object type="nest">
						<env:property name="position">new Vector2Int(8,1)</env:property>
					</env:object>-->
				</env:objects>

				<env:processes>
					<env:process type="createEvents">
						<env:property name="rate">2</env:property>
					</env:process>
				</env:processes>

				<env:observers>
					<env:observer name="world" view="view_all"
						perspective="abstract">
						<env:plugins>
						</env:plugins>
					</env:observer>
				</env:observers>
			</env:envspace>
		</application>

	</applications>

</applicationtype>
