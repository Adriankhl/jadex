<?xml version="1.0" encoding="UTF-8"?>
<!--
  Standalone platform properties.
-->
<properties xmlns="http://jadex.sourceforge.net/jadexconf"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xsi:schemaLocation="http://jadex.sourceforge.net/jadexconf 
	                    http://jadex.sourceforge.net/configuration.xsd"
	name="standalone_conf">
	
	<properties type="platform_standalone" name="lars">
		<property type="platformname">lars</property>
		<property type="platform_shutdown_time">1000</property>
		<property type="welcome">false</property>
		<property type="autoshutdown">true</property>
		
		<!-- Platform services. -->
		<properties type="services">
			<!-- Library service. -->
			<property type="jadex.service.library.ILibraryService" name="library_service">
				new jadex.service.library.LibraryService()
			</property>
			
			<!-- Threadpool service. -->
			<property type="jadex.service.threadpool.ThreadPoolService" name="threadpool_service">
				new jadex.service.threadpool.ThreadPoolService(
					//new jadex.commons.concurrent.java5.JavaThreadPool()
					new jadex.commons.concurrent.ThreadPool(
						new jadex.commons.concurrent.DefaultThreadPoolStrategy(0, 20, 30000)))
			</property>
			
			<!-- AMS service. -->
			<property type="jadex.bridge.IComponentManagementService" name="cms_service">
				new jadex.standalone.service.ComponentManagementService($platform)
			</property> 
			
			<!-- DF service. -->
			<property type="jadex.base.fipa.IDF" name="df_service">new jadex.standalone.service.DirectoryFacilitatorService($platform)</property>
			
			<!-- Message service. -->
			<property type="jadex.bridge.IMessageService" name="message_service">new jadex.standalone.MessageService($platform, 
				new jadex.standalone.transport.ITransport[]
				{
					new jadex.standalone.transport.localmtp.LocalTransport($platform),
					new jadex.standalone.transport.tcpmtp.TCPTransport($platform, 9876),
					new jadex.standalone.transport.niotcpmtp.NIOTCPTransport($platform, 8765)
				},
				new jadex.bridge.MessageType[]
				{
					new jadex.base.fipa.FIPAMessageType()
				})
			</property>
			
			<!-- Clock service. -->
			<property type="jadex.service.clock.IClockService" name="clock_service">
				new jadex.service.clock.ClockService(
					new jadex.service.clock.SystemClock("system_clock", 100,
					$platform.getService(jadex.service.threadpool.ThreadPoolService.class)))
//				new jadex.service.clock.SimulationEventClock("simulation_clock",
//					System.currentTimeMillis(), 200))
			</property>

			<!-- Simulation service. -->
			<property type="jadex.base.ISimulationService" name="simulation_service">
				new jadex.base.SimulationService($platform)
			</property>
		
			<!-- Execution service. -->
			<property type="jadex.service.execution.IExecutionService" name="execution_service">
				new jadex.service.execution.SyncExecutionService(
					$platform.getService(jadex.service.threadpool.ThreadPoolService.class))
			</property>

			<!-- Context service. -->
			<property type="jadex.bridge.IContextService" name="context_service">
				new jadex.base.contextservice.ContextService(
					new Class[]
					{
						jadex.bridge.IContext.class,
						jadex.base.contextservice.BaseContext.class,
						jadex.bridge.IApplicationContext.class
					},
					new jadex.base.contextservice.IContextFactory[]
					{
						new jadex.base.contextservice.DefaultContextFactory(),
						new jadex.base.contextservice.DefaultContextFactory(),
						new jadex.base.appdescriptor.ApplicationContextFactory($platform)
					})
			</property>
			
			<!-- Element factories -->
			
			<property type="jadex.bridge.IComponentFactory" name="application_factory">
				new jadex.base.appdescriptor.ApplicationFactory($platform,
					new java.util.Set[]
					{
						jadex.base.agr.MAGRSpaceType.getXMLMapping(),
						jadex.application.space.envsupport.MEnvSpaceType.getXMLMapping()
					}
				)		
			</property>
			
			<property type="jadex.bridge.IComponentFactory" name="bdi_factory">
				new jadex.bdi.BDIAgentFactory(
					jadex.commons.SUtil.createHashMap(
					new String[]
					{
						"messagetype_fipa", 
						"planexecutor_standard", 
						"standard.timeout", 
						"microplansteps",
						"planexecutor_bpmn",
						"debugger.panels"
					},
					new Object[]
					{
						new jadex.base.fipa.FIPAMessageType(), 
						new jadex.bdi.runtime.JavaStandardPlanExecutor($platform.getService(jadex.service.threadpool.ThreadPoolService.class)),
						new java.lang.Long(10000),
						Boolean.TRUE,
						new jadex.bdibpmn.BpmnPlanExecutor($platform),
						"jadex.tools.debugger.bdi.BDIAgentInspectorDebuggerPanel, jadex.tools.debugger.bdi.BDIAgentRuleEngineDebuggerPanel"
					}
				), $platform)
			</property>
			
			<property type="jadex.bridge.IComponentFactory" name="micro_factory">
				new jadex.micro.MicroAgentFactory($platform)
			</property>
			
			<property type="jadex.bridge.IComponentFactory" name="bpmn_factory">
				new jadex.bpmn.BpmnFactory($platform, jadex.commons.SUtil.createHashMap(
					new String[]
					{
						"debugger.panels"
					},
					new Object[]
					{
						"jadex.tools.debugger.bpmn.BpmnDebuggerPanel, jadex.tools.debugger.common.ObjectInspectorDebuggerPanel"
					})
				)
			</property>
			
			<property type="jadex.bridge.IComponentFactory" name="gpmn_factory">
				new jadex.gpmn.GpmnFactory($platform, jadex.commons.SUtil.createHashMap(
					new String[]
					{
						"debugger.panels"
					},
					new Object[]
					{
						"jadex.tools.debugger.bdi.BDIAgentInspectorDebuggerPanel, jadex.tools.debugger.bdi.BDIAgentRuleEngineDebuggerPanel"
					})
				)
			</property>
			
			<!-- WFMS Services -->
			
			<property type="jadex.wfms.service.IModelRepositoryService" name="wfms_model_repository">
				new jadex.wfms.service.impl.BasicModelRepositoryService($platform)
			</property>
			
			<property type="jadex.wfms.service.IAAAService" name="wfms_AAA_service">
				jadex.wfms.service.impl.BasicAAAService.getTestService()
			</property>
			
			<property type="jadex.wfms.service.IBpmnProcessService" name="wfms_bpmn_service">
				new jadex.wfms.service.impl.BpmnProcessService($platform)
			</property>
			
			<property type="jadex.wfms.service.IGpmnProcessService" name="wfms_gpmn_service">
				new jadex.wfms.service.impl.GpmnProcessService($platform)
			</property>
			
			<property type="jadex.wfms.service.IExecutionService" name="wfms_execution_service">
				new jadex.wfms.service.impl.MetaExecutionService($platform)
			</property>
			
			<property type="jadex.wfms.service.IMonitoringService" name="wfms_monitoring_service">
				new jadex.wfms.service.impl.MonitoringService($platform)
			</property>
			
			<property type="jadex.wfms.service.IProcessDefinitionService" name="wfms_process_definition">
				new jadex.wfms.service.impl.ProcessDefinitionConnector($platform)
			</property>
			
			<property type="jadex.wfms.service.IClientService" name="wfms_client_service">
				new jadex.wfms.service.impl.ClientConnector($platform)
			</property>
			
			<property type="jadex.wfms.service.IWfmsClientService" name="wfms_wfmsclient_service">
				$platform.getService(jadex.wfms.service.IClientService.class)
			</property>
			
			<property type="jadex.wfms.service.impl.ClientLaunchService" name="wfms_clientlaunch">
				new jadex.wfms.service.impl.ClientLaunchService($platform)
			</property>
			
			<!-- <property type="jadex.bridge.IComponentFactory" name="gpmn_factory">
				new jadex.gpmn.GpmnAgentFactory(
				jadex.commons.SUtil.createHashMap(
					new String[]
					{
						"messagetype_fipa", 
						"planexecutor_standard", 
						"standard.timeout", 
						"tooladapter.introspector",
						"microplansteps",
						"planexecutor_bpmn"
					},
					new Object[]
					{
						new jadex.base.fipa.FIPAMessageType(), 
						new jadex.bdi.runtime.JavaStandardPlanExecutor($platform.getService(jadex.service.threadpool.ThreadPoolService.class)),
						new java.lang.Long(10000),
						jadex.tools.introspector.IntrospectorAdapter.class,
						Boolean.TRUE,
						new jadex.bdibpmn.BpmnPlanExecutor($platform)
					}
				), $platform)
			</property> -->
		</properties>
						
		<!-- Agents. -->
  		<property type="daemonagent" name="cms">jadex/bdi/cmsagent/CMS.agent.xml</property>
		<property type="daemonagent" name="df">jadex/bdi/dfagent/DF.agent.xml</property>
 		<property type="agent" name="jcc">jadex/tools/jcc/JCC.agent.xml</property>
	</properties>
	
</properties>