<?xml version="1.0" encoding="UTF-8"?>

<!--
    Document   : AutomatedSimulation.xml
    Created on : 17. Dezember 2009, 17:25
    Updated on: 15-1-10, 19h
    Author     : vilenica
    Description:
        Purpose of the document follows.
-->



<SimulationConfiguration name="MarsWorldExperiments" applicationReference="..\\jadex-applib-simulation\\target\\classes\\jadex\\simulation\\examples\\marsworld\\MarsWorld4SimulationExperiments.application.xml" applicationConfiguration="1 Sentry / 2 Producers / 3 Carries">
<!--<SimulationConfiguration name="MarsWorldExperiments" applicationReference="..\\jadex-applications-bdi\\target\\classes\\jadex\\bdi\\examples\\marsworld\\MarsWorld4SimulationExperiments.application.xml" applicationConfiguration="1 Sentry / 2 Producers / 3 Carries">-->
    <Observers>
        <!-- <Observer>
            <Data name="StepLogger">
                <ObjectSource type="BDI_Agent" name="Sentry"/>
                <ElementSource type="BDI_BELIEF" name="myPos" class="String"/>--><!-- Add type of element: String, long, int etc.? --> 
            <!-- </Data>
            <Evaluation mode="periodical" value="1000"/> --><!--If perdiocal, all have to have the same value -->
            <!-- <Filter mode="all"/> --><!-- All / one / subset of objects-JavaCondLanguage -->
        <!-- </Observer> -->
        <Observer>
            <Data name="HomebaseLogger"><!-- TODO: How to deal with Strings, Lists? -->
                <ObjectSource type="ISpaceObject" name="homebase"/>
                <ElementSource type="Property" name="ore" class="String"/><!-- Add type of element: String, long, int etc.? -->
            </Data>
            <Evaluation mode="onChange"/><!--If perdiocal, all have to have the same value -->
            <Filter mode="all"/><!-- All / one / subset of objects-JavaCondLanguage -->
        </Observer>
    </Observers>

    <DataVisualization>
        <Input>Reference to a data-field of the observers</Input>
        <Function name="MeanValue" aggregate="all"/>
        <!-- DiagramType, Aggregation of different data, text on x/y-axis-->
    </DataVisualization>

    <!-- Optional: -->
    <Persist>
    <!-- Options: Wich filenName, Type, DB-Connector etc.-->
    </Persist>

    <Optimization><!-- Der Wert dieses Parameters gehört dann auf jeden Fall in die LogDatei.-->
        <!-- TODO: Nesting of Parameters! -->
        <!--<Data name="PheromoneDiffusion"> --><!-- Referenz auf oben oder neues -->
            <!--<ObjectSource type="ISpaceObject" name="Pheromone"/>
            <ElementSource type="Property" name="Diffusion" class="Int"/>--><!-- Add type of element: String, long, int etc.? -->
        <!--</Data>-->
        <Data name="NumberOfSentries"> <!-- Referenz to $args.value in application.xml -->
            <ObjectSource type="BDI_Agent" name="Sentry"/>
            <ElementSource type="AgentNumber" name="AgentNumber" class="Int"/><!-- Add type of element: String, long, int etc.? -->
        </Data>
        <!-- Important: Number of sweeps has to be equal with number of rows!-->
        <ParameterSweeping tpye="increment"> <!-- or: values-->
            <Configuration start="1" end="4" step="1" class="int"/>
            <!-- or: values="11;19;26;100"/>-->
        </ParameterSweeping>
        <Algorithm>
            <Input></Input>
            <Configuration></Configuration>
        </Algorithm>
    </Optimization>

    <RunConfiguration>
        <General rows="4" parallelRuns="2" delta="true"><!-- For all runs.-->
            <StartTime value="113000" type="relative"/><!-- Absolute or relative-->
         <!-- delta=um bei paralleler Ausführung zu Verhindern, dass Seeds von Randoms gleich sind.-->
            <TerminateCondition>
                <Time value="120000" type="absolute"/>
            </TerminateCondition>
        </General>
        <Rows experiments="10">
            <TerminateCondition>
                <!--<Time value="7000" type="relative"/>-->
                <TargetFunction function="$object.money &gt; 5"/>
            </TerminateCondition>
        </Rows>
    </RunConfiguration>
</SimulationConfiguration>