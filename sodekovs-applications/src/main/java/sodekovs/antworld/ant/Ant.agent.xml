<!--
	<H3>Sentry agent for finding ore..</H3>

	This agent move to positions to check for minerals.
	Then calls the Production Agent to produce the ore.
	After all locations have been visited the Agent moves home.
-->
<agent xmlns="http://jadex.sourceforge.net/jadex"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xsi:schemaLocation="http://jadex.sourceforge.net/jadex
	                    http://jadex.sourceforge.net/jadex-bdi-2.0.xsd"
	name="Ant" package="sodekovs.antworld.ant">	         

	<imports>
		<import>java.util.*</import>
		<import>java.util.logging.*</import>
		<import>jadex.base.fipa.*</import>
		<import>jadex.extension.envsupport.environment.*</import>
		<import>jadex.extension.envsupport.math.*</import>
		<import>sodekovs.antworld.movement.*</import>
	</imports>

	<capabilities>
		<!-- Include the move capability as move for basic movement. -->
		<capability name="move" file="Movement" />
	</capabilities>

	<beliefs>
		<!-- The agent's avatar  in the environment. -->
		<beliefref name="myself">
			<concrete ref="move.myself"/>
		</beliefref>
		
		<!--  Test for evaluation! -->
		<belief name="myPos" class="Vector2Double" evaluationmode="push">
			<fact language="jcl">$beliefbase.myself.position</fact>
		</belief>
		
		<!-- Known nests. -->
		<!-- <beliefset name="nests" class="ISpaceObject" /> -->
		<beliefsetref name="nests">
			<concrete ref="move.nests"/>
		</beliefsetref>  			
		
		<!-- Does it carry a piece of food carried at that moment? -->
		<belief name="has_food" class="Boolean" evaluationmode="push">
			<fact language="jcl"> $beliefbase.myself.has_food </fact>			
		</belief>
		
		<!-- Known/Detected??? Food sources at the current position. -->
		<!-- <beliefset name="foodSources" class="ISpaceObject" />-->
		<beliefsetref name="foodSources">
			<concrete ref="move.foodSources"/>
		</beliefsetref>		

		<!-- Smelled pheromones. -->
		<beliefsetref name="pheromones">
			<concrete ref="move.pheromones"/>
		</beliefsetref>	
	</beliefs>

<goals>
<!-- This goal is used to mine food.-->
		<!-- <achievegoal name="food_mining" exclude="never" retry="false">
			<unique />
			<creationcondition language="jcl">				
				Arrays.asList($beliefbase.foodSources).size() &gt; 0
			</creationcondition>-->
			<!-- <deliberation>
				<inhibits ref="pheromone_follow" />
			</deliberation> -->
		<!-- </achievegoal> -->
		
		<!-- This goal is used to mine food.-->
		<achievegoalref name="food_mining">
			<concrete ref="move.food_mining"/>
		</achievegoalref>
		
		<!-- This goal is used to follow smelled pheromones.-->
		<achievegoalref name="pheromone_follow">
			<concrete ref="move.pheromone_follow"/>
		</achievegoalref>				
</goals>
  		
</agent>
