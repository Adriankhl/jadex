<!--
	<H3>Sentry agent for finding ore..</H3>

	This agent move to positions to check for minerals.
	Then calls the Production Agent to produce the ore.
	After all locations have been visited the Agent moves home.
-->
<agent xmlns="http://jadex.sourceforge.net/jadex"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xsi:schemaLocation="http://jadex.sourceforge.net/jadex
	                    http://jadex.sourceforge.net/jadex-bdi-2.0.xsd"
	name="Ant"
	package="sodekovs.antworld.ant">	         

	<imports>
		<import>java.util.*</import>
		<import>java.util.logging.*</import>
		<import>jadex.base.fipa.*</import>
		<import>jadex.extension.envsupport.environment.*</import>
		<import>jadex.extension.envsupport.math.*</import>
		<import>sodekovs.antworld.movement.*</import>
	</imports>

	<capabilities>
		<!-- Include the move capability as move for basic movement. -->
		<capability name="move" file="Movement" />
		<!-- <capability name="transcap" file="jadex/bdi/tutorial/TranslationD1.capability.xml"/>-->
	</capabilities>

	<beliefs>
		<!-- The agent's avatar  in the environment. -->
		<beliefref name="myself">
			<concrete ref="move.myself"/>
		</beliefref>
		
		<!--  Test for evaluation! -->
		<belief name="myPos" class="Vector2Double" evaluationmode="push">
			<fact language="jcl">$beliefbase.myself.position</fact>
		</belief>
		
		<!-- Known nests. -->
		<beliefset name="nests" class="ISpaceObject" />			
		
		<!-- Does it carry a piece of food carried at that moment? -->
		<belief name="has_food" class="Boolean" evaluationmode="push">
			<fact language="jcl"> $beliefbase.myself.has_food </fact>			
		</belief>
		
		<!-- Known/Detected??? Food sources at the current position. -->
		<beliefset name="foodSources" class="ISpaceObject" />		

		<!-- Smelled pheromones. -->
		<beliefset name="pheromones" class="ISpaceObject" />	
	</beliefs>

<goals>
<!-- This goal is used to mine food.-->
		<achievegoal name="food_mining" exclude="never" retry="false">
			<unique />
			<creationcondition language="jcl">
				Arrays.asList($beliefbase.foodSources).size() &gt; 0
			</creationcondition>
			<!-- <deliberation>
				<inhibits ref="pheromone_follow" />
			</deliberation> -->
		</achievegoal>
</goals>
  	

	<configurations>
		<configuration name="default">
			<goals>
				<!-- Create a goal for walking around. -->
				<initialgoal cref="move.walk_around"/>				
			</goals>					
		</configuration>
	</configurations>
</agent>
