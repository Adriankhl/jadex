<?xml version="1.0" encoding="UTF-8"?>
<bpmn:BpmnDiagram xmi:version="2.0" xmlns:xmi="http://www.omg.org/XMI" xmlns:bpmn="http://stp.eclipse.org/bpmn" xmi:id="_HdXXgYAxEd6N8dR31QwQkg" iD="_HdXXgIAxEd6N8dR31QwQkg">
  <artifacts xmi:type="bpmn:TextAnnotation" xmi:id="_cSRJ0YAxEd6N8dR31QwQkg" iD="_cSRJ0IAxEd6N8dR31QwQkg" name="package jadex.bdibpmn.examples.marsworld;&#xD;&#xA;&#xD;&#xA;import jadex.bdibpmn.task.*;&#xD;&#xA;import jadex.application.space.envsupport.environment.space2d.*;&#xD;&#xA;import jadex.application.space.envsupport.environment.*;&#xD;&#xA;import jadex.commons.SUtil;&#xD;&#xA;import java.util.Map;&#xD;&#xA;import jadex.bdi.planlib.*;&#xD;&#xA;&#xD;&#xA;boolean finished = false;&#xD;&#xA;ISpaceObject homebase = $beliefbase.environment.getSpaceObjectsByType(&quot;homebase&quot;)[0];">
    <associations xmi:type="bpmn:Association" xmi:id="_cSRJ2YAxEd6N8dR31QwQkg"/>
  </artifacts>
  <pools xmi:type="bpmn:Pool" xmi:id="_HdXXh4AxEd6N8dR31QwQkg" iD="_HdXXhoAxEd6N8dR31QwQkg" associations="_cSRJ2YAxEd6N8dR31QwQkg" name="Body">
    <vertices xmi:type="bpmn:Activity" xmi:id="_HdXXiYAxEd6N8dR31QwQkg" iD="_HdXXiIAxEd6N8dR31QwQkg" outgoingEdges="_ESK78YAzEd6N8dR31QwQkg" incomingEdges="_J1gTkYAxEd6N8dR31QwQkg _ZsuD4YAxEd6N8dR31QwQkg" name="Move to Target&#xD;&#xA;&#xD;&#xA;class = DispatchGoalTask.class&#xD;&#xA;in String type = &quot;move.move_dest&quot;&#xD;&#xA;in Map parameters = SUtil.createHashMap(new String[]{&quot;destination&quot;}, new Object[]{$plan.target.getProperty(Space2D.PROPERTY_POSITION)})" activityType="Task"/>
    <vertices xmi:type="bpmn:Activity" xmi:id="_J1WikYAxEd6N8dR31QwQkg" iD="_J1WikIAxEd6N8dR31QwQkg" outgoingEdges="_J1gTkYAxEd6N8dR31QwQkg" activityType="EventStartEmpty"/>
    <vertices xmi:type="bpmn:Activity" xmi:id="_OCBXUYAxEd6N8dR31QwQkg" iD="_OCBXUIAxEd6N8dR31QwQkg" outgoingEdges="_RUrOCIGpEd6iKJCjTAMfBQ" incomingEdges="_ESK78YAzEd6N8dR31QwQkg" name="Load Ore&#xD;&#xA;&#xD;&#xA;class = CreateSpaceObjectTaskTask.class&#xD;&#xA;in IEnvironmentSpace space = $beliefbase.environment&#xD;&#xA;in Object objectid = $beliefbase.myself.getId()&#xD;&#xA;in String type = LoadOreTask.PROPERTY_TYPENAME&#xD;&#xA;in Map properties = SUtil.createHashMap(new String[]{&quot;target&quot;, &quot;load&quot;, LoadOreTask.PROPERTY_CONDITION}, new Object[]{$plan.target, true, new PlanFinishedTaskCondition($plan)})" activityType="Task"/>
    <vertices xmi:type="bpmn:Activity" xmi:id="_Q-E4wYAxEd6N8dR31QwQkg" iD="_Q-E4wIAxEd6N8dR31QwQkg" outgoingEdges="_SYrOioAxEd6N8dR31QwQkg" incomingEdges="_Q-E4yoAxEd6N8dR31QwQkg" name="Move to Homebase&#xD;&#xA;&#xD;&#xA;class = DispatchGoalTask.class&#xD;&#xA;in String type = &quot;move.move_dest&quot;&#xD;&#xA;in Map parameters = SUtil.createHashMap(new String[]{&quot;destination&quot;}, new Object[]{homebase.getProperty(Space2D.PROPERTY_POSITION)})" activityType="Task"/>
    <vertices xmi:type="bpmn:Activity" xmi:id="_SYrOgYAxEd6N8dR31QwQkg" iD="_SYrOgIAxEd6N8dR31QwQkg" outgoingEdges="_Co-JgYAzEd6N8dR31QwQkg" incomingEdges="_SYrOioAxEd6N8dR31QwQkg" name="Unload Ore&#xD;&#xA;&#xD;&#xA;class = CreateSpaceObjectTaskTask.class&#xD;&#xA;in IEnvironmentSpace space = $beliefbase.environment&#xD;&#xA;in Object objectid = $beliefbase.myself.getId()&#xD;&#xA;in String type = LoadOreTask.PROPERTY_TYPENAME&#xD;&#xA;in Map properties = SUtil.createHashMap(new String[]{&quot;target&quot;, &quot;load&quot;, LoadOreTask.PROPERTY_CONDITION}, new Object[]{homebase, false, new PlanFinishedTaskCondition($plan)})" activityType="Task"/>
    <vertices xmi:type="bpmn:Activity" xmi:id="_WaT38YAxEd6N8dR31QwQkg" iD="_WaT38IAxEd6N8dR31QwQkg" outgoingEdges="_XXtUWoAxEd6N8dR31QwQkg _ZsuD4YAxEd6N8dR31QwQkg" incomingEdges="_Co-JgYAzEd6N8dR31QwQkg" activityType="GatewayDataBasedExclusive"/>
    <vertices xmi:type="bpmn:Activity" xmi:id="_XXtUUYAxEd6N8dR31QwQkg" iD="_XXtUUIAxEd6N8dR31QwQkg" incomingEdges="_XXtUWoAxEd6N8dR31QwQkg _R16S0YGpEd6iKJCjTAMfBQ" activityType="EventEndEmpty"/>
    <vertices xmi:type="bpmn:Activity" xmi:id="_RT7nIYGpEd6iKJCjTAMfBQ" iD="_RT7nIIGpEd6iKJCjTAMfBQ" outgoingEdges="_R16S0YGpEd6iKJCjTAMfBQ _Q-E4yoAxEd6N8dR31QwQkg" incomingEdges="_RUrOCIGpEd6iKJCjTAMfBQ" activityType="GatewayDataBasedExclusive"/>
    <sequenceEdges xmi:type="bpmn:SequenceEdge" xmi:id="_J1gTkYAxEd6N8dR31QwQkg" iD="_J1gTkIAxEd6N8dR31QwQkg"/>
    <sequenceEdges xmi:type="bpmn:SequenceEdge" xmi:id="_Q-E4yoAxEd6N8dR31QwQkg" iD="_Q-E4yYAxEd6N8dR31QwQkg" name="finished = $plan.target.getProperty(ProduceOreTask.PROPERTY_CAPACITY) == 0"/>
    <sequenceEdges xmi:type="bpmn:SequenceEdge" xmi:id="_SYrOioAxEd6N8dR31QwQkg" iD="_SYrOiYAxEd6N8dR31QwQkg"/>
    <sequenceEdges xmi:type="bpmn:SequenceEdge" xmi:id="_XXtUWoAxEd6N8dR31QwQkg" iD="_XXtUWYAxEd6N8dR31QwQkg" name="finished"/>
    <sequenceEdges xmi:type="bpmn:SequenceEdge" xmi:id="_ZsuD4YAxEd6N8dR31QwQkg" iD="_ZsuD4IAxEd6N8dR31QwQkg"/>
    <sequenceEdges xmi:type="bpmn:SequenceEdge" xmi:id="_Co-JgYAzEd6N8dR31QwQkg" iD="_Co-JgIAzEd6N8dR31QwQkg"/>
    <sequenceEdges xmi:type="bpmn:SequenceEdge" xmi:id="_ESK78YAzEd6N8dR31QwQkg" iD="_ESK78IAzEd6N8dR31QwQkg"/>
    <sequenceEdges xmi:type="bpmn:SequenceEdge" xmi:id="_RUrOCIGpEd6iKJCjTAMfBQ" iD="_RUrOB4GpEd6iKJCjTAMfBQ"/>
    <sequenceEdges xmi:type="bpmn:SequenceEdge" xmi:id="_R16S0YGpEd6iKJCjTAMfBQ" iD="_R16S0IGpEd6iKJCjTAMfBQ" name="$beliefbase.myself.getProperty(&quot;ore&quot;) == 0"/>
  </pools>
</bpmn:BpmnDiagram>
