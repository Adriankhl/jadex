<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<MASDynamic name="multiple_links_example">
	<!--
		Multiple Links Example:
	-->

	<!--
		System Properties: Definitions of the behaviors that agents can adopt
		and that makes them: - engage in coordinative activities - react to
		coordinative activities
	-->
	<system_properties>
		<role_occupations>
			<role_occupation name="speaker" multiple="false">
				<agent id="Conversation"/>
			</role_occupation>
			<role_occupation name="listener" multiple="false">
				<agent id="Conversation"/>
			</role_occupation>
		</role_occupations>
	</system_properties>


	<!--
		Causal links: Definition of the interdependencies between
		agent-behaviors.
	-->
	<causalities>
		<deco_links>
			<!-- The loud link -->
			<deco_link realization="loud" type="POSITIVE" name="send" spaces="mycoordspace">
				<froms>
					<from>speaker</from>
				</froms>
				<tos>
					<to>listener</to>
				</tos>
			</deco_link>
			<!-- The quiet link -->			
			<deco_link realization="quiet" type="POSITIVE" name="send" spaces="mycoordspace">
				<froms>
					<from>speaker</from>
				</froms>
				<tos>
					<to>listener</to>
				</tos>
			</deco_link>
		</deco_links>

		<deco-link-realizations>
			<!-- The loud link -->
			<realization id="loud">
				<from>		<!-- Published behaviors / events: -->
					<agent_element element="SpeakLoudStep" agent_id="Conversation" type="MICRO_STEP">
						<parameter_mappings>
							<mapping ref="message" name="message"/>
						</parameter_mappings>
					</agent_element>
				</from>
				<!-- Coordination Medium configuration: -->
				<mechanism_configuration
					mechanism_id="deco4mas.distributed.mechanism.service.ServiceMechanism"
					agent_type="JADEX">
				</mechanism_configuration>
				<to>		<!-- Behaviors / events to be triggered upon reception: -->
					 <agent_element element="ListenStep" agent_id="Conversation" type="MICRO_STEP">
						<parameter_mappings>
							<mapping ref="message" name="message"/>
						</parameter_mappings>
					</agent_element>
				</to>
				<active>false</active>
			</realization>
			<!-- The quiet link -->		
			<realization id="quiet">
				<from>		<!-- Published behaviors / events: -->
					<agent_element element="SpeakQuietStep" agent_id="Conversation" type="MICRO_STEP">
						<parameter_mappings>
							<mapping ref="message" name="message"/>
						</parameter_mappings>
					</agent_element>
				</from>
				<!-- Coordination Medium configuration: -->
				<mechanism_configuration
					mechanism_id="deco4mas.distributed.mechanism.service.ServiceMechanism"
					agent_type="JADEX">
				</mechanism_configuration>
				<to>		<!-- Behaviors / events to be triggered upon reception: -->
					 <agent_element element="ListenStep" agent_id="Conversation" type="MICRO_STEP">
						<parameter_mappings>
							<mapping ref="message" name="message"/>
						</parameter_mappings>
					</agent_element>
				</to>
			</realization>
		</deco-link-realizations>
	</causalities>
</MASDynamic>