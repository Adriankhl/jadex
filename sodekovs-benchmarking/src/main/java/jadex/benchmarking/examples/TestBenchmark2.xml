<?xml version="1.0" encoding="UTF-8"?>

<!-- Document : TestBenchmark: Workload 1 Created on : 18. MÃ¤rz 2011, 16:23 
	Author : vilenica Description: Purpose of the document follows. -->

<Schedule type="Workload" name="W2" warmUpTime="1000">

<Imports>		
		<Import>jadex.extension.envsupport.evaluation.XYChartDataConsumer</Import>		
		<Import>jadex.extension.envsupport.environment.*</Import>
		<Import>jadex.simulation.evaluation.*</Import>
	</Imports>
	
	<TerminateCondition>
		 <TerminationTime value="80000000" />
		<!-- <SemanticCondition condition="$object.getProperty(&quot;ore&quot;) >= 55">
			<ObjectSource type="ISpaceObject" name="homebase" />
		</SemanticCondition> -->

		<!-- <TargetFunction function="$beliefbase.tmpCounter>= 13"> <ObjectSource 
			type="BDIAgent" name="Sentry" /> </TargetFunction> -->
	</TerminateCondition>
	<SytemUnderTest>
		<Properties>
			<Property name="appFilePath"
				value="../sodekovs-simulationcontrol/src/main/java/jadex/simulation/examples/marsworld/MarsWorld4Benchmarking.application.xml"></Property>
			<Property name="appConfiguration" value="TestRemote"></Property>
			<!-- This property is required. -->
			<Property name="spaceName" value="my2dspace"></Property>
		</Properties>
	</SytemUnderTest>
	<!-- ScaleFactor: Is used to scale the CRUD-operations for the components: multiplies the defined numbers with this factor. -->
	<Sequences scaleFactor="3.0">
	<Sequence starttime="2500" actiontype="create">
			<!--<RepeatConfiguration type="stochasticDistribution" typeOfStochasticDistribution="normal" alpha="5000" sigma="2500" />-->
			<RepeatConfiguration type="stochasticDistribution" typeOfStochasticDistribution="poisson" lambda="6000"/>
			<Actions>
				<Action componentname="SentryW1" componenttype="BDIAgent"
					componentmodel="../sodekovs-simulationcontrol/src/main/java/jadex/simulation/examples/marsworld/sentry/Sentry.agent.xml" numberOfComponents="1"> 
					<Properties>
						<Property name="sspeed" value="22"></Property>
					</Properties>
				</Action>
			</Actions>
		</Sequence>
	<Sequence starttime="2000" actiontype="create">
			<RepeatConfiguration type="list" values="9000;12000;24000;35000" />
			<Actions>
				<Action componentname="SentryW1" componenttype="BDIAgent"
					componentmodel="../sodekovs-simulationcontrol/src/main/java/jadex/simulation/examples/marsworld/sentry/Sentry.agent.xml" numberOfComponents="1"> 
					<Properties>
						<Property name="sspeed" value="22"></Property>
					</Properties>
				</Action>
			</Actions>
		</Sequence>
		<Sequence starttime="12000" actiontype="delete">
			<RepeatConfiguration type="space" step="3000" end="20000" />
			<Actions>
				<Action componentname="SentryW1" componenttype="BDIAgent"
					componentmodel="jadex.simulation.examples.marsworld.sentry.sentry" numberOfComponents="2"> 
					<Properties>
						<Property name="sspeed" value="22"></Property>
					</Properties>
				</Action>
			</Actions>
		</Sequence>
		<Sequence starttime="4000" actiontype="create">
		<RepeatConfiguration type="space" step="3000"/>
			<Actions>
				<Action componentname="Homebase" componenttype="ISpaceObject"
					componentmodel="homebase">
					<Properties>
						<Property name="speed" value="42"></Property>
					</Properties>
				</Action>
			</Actions>
		</Sequence>
	</Sequences>
	<Evaluation>
	<Dataproviders>
		<Dataprovider name="homebaselogger">			
			<Source name="$homebase" sourcetype="ISpaceObject" objecttype="homebase"/> 						
			<Data name="ore_amount">$homebase.ore</Data>
			<Data name="time">$tick</Data>				
		</Dataprovider>
	</Dataproviders>

	<Dataconsumers>
		<Dataconsumer name="homebaseConsumer" clazz="XYChartDataConsumer">
				<MixedProperty name="dataprovider">"homebaselogger"</MixedProperty>
				<MixedProperty name="title">"Evaluation of homebase"</MixedProperty>
				<MixedProperty name="labelx">"Time"</MixedProperty>
				<MixedProperty name="labely">"Collected Ore"</MixedProperty>							
				<MixedProperty name="seriesname_0">"Collected Ore"</MixedProperty>
				<MixedProperty name="valuex_0">"time"</MixedProperty>
				<MixedProperty name="valuey_0">"ore_amount"</MixedProperty>
		</Dataconsumer>
		<Dataconsumer name="homebaseConsumerReloaded" clazz="XYChartDataConsumer">
				<MixedProperty name="dataprovider">"homebaselogger"</MixedProperty>
				<MixedProperty name="title">"Evaluation of homebase"</MixedProperty>				
				<MixedProperty name="labelx">"Collected Ore"</MixedProperty>			
				<MixedProperty name="labely">"Time"</MixedProperty>				
				<MixedProperty name="seriesname_0">"Collected Ore"</MixedProperty>				
				<MixedProperty name="valuex_0">"ore_amount"</MixedProperty>
				<MixedProperty name="valuey_0">"time"</MixedProperty>
		</Dataconsumer>
		<!-- <Dataconsumer name="simConsumer" clazz="SimulationDataConsumer">		
				<MixedProperty name="dataprovider">"homebaselogger"</MixedProperty>
				<MixedProperty name="time" filter="last"/>--><!-- HACK: Denotes the filter type ->last= only the last value is of interest. --> 
		<!-- </Dataconsumer> -->		 		
	</Dataconsumers>
	</Evaluation>
	
	<!-- The following elements are used for a time analysis of the ability of the system to detect "incidents", i.e. any type of event that requires an system adaption (reconfiguration). It consists iof three parts:
	1.) "IncidentEvent": defines the exact type of incident
	2.) "AdaptionEvent": the system starts to reconfigure
	3.) "SystemReadyEvent": the system has accomplished the adaption. -->
	<AdaptationAnalysis>
		<TargetDefinition name="Adapt1">
			<IncidentEvent condition="$object.getProperty(&quot;ore&quot;) >=
					10"><ObjectSource type="ISpaceObject" name="homebase" /></IncidentEvent>							
			<AdaptationEvent condition="$object.getProperty(&quot;ore&quot;) >=
					45"><ObjectSource type="ISpaceObject" name="homebase" /></AdaptationEvent>
			<SystemReadyEvent condition="$object.getProperty(&quot;ore&quot;) >=
					85"><ObjectSource type="ISpaceObject" name="homebase" /></SystemReadyEvent>
		</TargetDefinition>
		<TargetDefinition name="Adapt2">
			<IncidentEvent condition="$object.getProperty(&quot;ore&quot;) >=
					50"><ObjectSource type="ISpaceObject" name="homebase" /></IncidentEvent>							
			<AdaptationEvent condition="$object.getProperty(&quot;ore&quot;) >=
					75"><ObjectSource type="ISpaceObject" name="homebase" /></AdaptationEvent>
			<SystemReadyEvent condition="$object.getProperty(&quot;ore&quot;) >=
					95"><ObjectSource type="ISpaceObject" name="homebase" /></SystemReadyEvent>
		</TargetDefinition>
	</AdaptationAnalysis>
</Schedule>
