
<!-- <H3>Responsible for executing a single simulation experiment.</H3> -->

<agent xmlns="http://jadex.sourceforge.net/jadex-bdi" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xsi:schemaLocation="http://jadex.sourceforge.net/jadex-bdi
	                    http://jadex.sourceforge.net/jadex-bdi-2.0.xsd"
	name="RemoteClientSimulator" package="jadex.simulation.remote">

	<imports>
		<import>jadex.base.contextservice.*</import>
		<import>jadex.base.appdescriptor.*</import>
		<import>jadex.base.envsupport.environment.space2d.*</import>
		<import>jadex.base.envsupport.environment.*</import>
		<import>jadex.base.envsupport.math.*</import>
		<import>jadex.base.fipa.*</import>
		<import>java.util.*</import>
		<import>java.util.logging.*</import>
		<import>jadex.simulation.model.Observer</import>
		<import>jadex.simulation.client.*</import>
		<import>jadex.application.space.envsupport.environment.*</import>
	</imports>


	<capabilities>
		<!-- this capability provides easy access to "out-of-the-box"-plans allowing 
			- for example - to register at the DF. -->
		<!-- <capability name="dfcap" file="jadex.bdi.planlib.df.DF" /> -->
	</capabilities>

	<beliefs>
		<!-- Map contains all facts related to this simulation run. -->
		<belief name="simulationFacts" class="Map">
			<fact>new HashMap()</fact>
		</belief>
	</beliefs>

	<goals>
		<!-- Used to search for the masters simulation agent. -->
		<!-- <achievegoalref name="df_search">
			<concrete ref="dfcap.df_search" />
		</achievegoalref>-->
		<performgoal name="startExecution" retry="false" exclude="never">
			<!-- Args required to start application -->
			<parameter name="applicationConf" class="Map" />
			<!-- The name (id) of the application -->
			<parameter name="clientConf" class="HashMap" />
		</performgoal>
	</goals>

	<plans>		<!-- Responsible for all aspects related to the run of the simulation, especially 			to monitor the terminate condition. -->
		<plan name="runtime_manager">
			<body class="RuntimeManagerPlan" />
			<parameter name="applicationConf" class="Map">
				<goalmapping ref="startExecution.applicationConf"/>
			</parameter>
			<parameter name="clientConf" class="HashMap">
				<goalmapping ref="startExecution.clientConf"/>
			</parameter>
			<trigger>
				<goal ref="startExecution" />
			</trigger>
		</plan>
	</plans>

	<properties>
		<!-- The environment may throw exceptions when executing property listeners 
			and these listeners are not valid any longer. This leads to normal plan failure 
			and can therefore be ignored. -->
		<property name="logging.level">java.util.logging.Level.WARNING</property>
		<property name="debugging">false</property>
	</properties>

	<services>
		<providedservice class="IRemoteSimulationExecutionService">new
			RemoteSimulationExecutionService($scope, "betaTest01")</providedservice>
	</services>

</agent>